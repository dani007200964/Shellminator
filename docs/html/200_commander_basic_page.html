<!-- HTML header for doxygen 1.9.5-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.5"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Shellminator: Example 200 Commander Basic</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
<script type="text/javascript">
    DoxygenAwesomeDarkModeToggle.init()
</script>
<script type="text/javascript" src="doxygen-awesome-fragment-copy-button.js"></script>
<script type="text/javascript">
    DoxygenAwesomeFragmentCopyButton.init()
</script>
<script src="lottie-player.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
<link href="custom_header.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<a href="https://github.com/dani007200964/Shellminator" class="github-corner" aria-label="View source on GitHub"><svg width="80" height="80" viewBox="0 0 250 250" style="fill:#70B7FD; color:#fff; position: absolute; top: 0; border: 0; right: 0;" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="logo.svg"/></td>
  <td id="projectalign">
   <div id="projectname">Shellminator<span id="projectnumber">&#160;V3.0.1</span>
   </div>
   <div id="projectbrief">Simple Terminal</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<script>
    document.addEventListener("DOMContentLoaded", function() {
        var navtree = document.getElementById("nav-tree");
        if (navtree) {
            // Ko-Fi Button
            var customDiv = document.createElement("div");
            customDiv.classList.add( 'kofi_button' );
            customDiv.style.marginTop = "10px";
            customDiv.style.padding = "5px";
            customDiv.style.width = "calc(100% - 20px)";
            customDiv.style.marginLeft = "20px";
            customDiv.style.boxSizing = "border-box";
            customDiv.innerHTML = `
                <a href="https://ko-fi.com/danielhajnal" target="_blank">
                    <img src="support_me_on_kofi_red.png" class="kofi_image" alt="Support me on Ko-Fi">
                </a>
            `;
            navtree.appendChild(customDiv);
            // Web Terminal
            customDiv = document.createElement("div");
            customDiv.style.marginTop = "10px";
            customDiv.style.padding = "5px";
            customDiv.style.width = "calc(100% - 20px)";
            customDiv.style.marginLeft = "20px";
            customDiv.style.boxSizing = "border-box";
            customDiv.innerHTML = `
                <a href="web_xterm_themed.html" class="btn btn-primary terminalPulse-btn" target="_blank">
                    ðŸ“Ÿ Web Terminal
                </a>
            `;
            navtree.appendChild(customDiv);
            // BLE Terminal
            customDiv = document.createElement("div");
            customDiv.style.marginTop = "10px";
            customDiv.style.padding = "5px";
            customDiv.style.width = "calc(100% - 20px)";
            customDiv.style.marginLeft = "20px";
            customDiv.style.boxSizing = "border-box";
            customDiv.innerHTML = `
                <a href="ble_terminal.html" class="btn btn-primary terminalPulse-btn" target="_blank">
                    ðŸ”‹ BLE Terminal
                </a>
            `;
            navtree.appendChild(customDiv);
        }
    });
</script>
<!-- Generated by Doxygen 1.9.5 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('200_commander_basic_page.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Example 200 Commander Basic </div></div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><ul><li class="level2"><a href="#autotoc_md32">Designing the Commands</a></li>
<li class="level2"><a href="#autotoc_md33">Callback Function Structure</a></li>
<li class="level2"><a href="#autotoc_md34">Setting Up the Command Tree</a></li>
<li class="level2"><a href="#autotoc_md35">Connecting Shellminator to Commander</a></li>
<li class="level2"><a href="#autotoc_md36">Initializing Commander</a></li>
<li class="level2"><a href="#autotoc_md37">Implementing the Callback Functions</a></li>
<li class="level2"><a href="#autotoc_md38">Arguments and Caller</a></li>
<li class="level2"><a href="#autotoc_md39">What Does the sum Function Do?</a></li>
<li class="level2"><a href="#autotoc_md40">Important Notes</a></li>
<li class="level2"><a href="#autotoc_md41">Live Demo</a></li>
<li class="level2"><a href="#autotoc_md42">Whole Code</a></li>
</ul>
</ul>
</div>
<div class="textblock"><p >Until now, weâ€™ve focused on how to configure the terminal, but we havenâ€™t yet talked about what to actually do with the commands that are entered.</p>
<p >Of course, you could take a simple approach and use a massive <code>if-else</code> chain in the execution function to check if the received text matches certain strings. However, once you have more than 10â€“15 commands, this becomes inefficient and hard to maintain. And letâ€™s not even get started on the complications that arise if the command includes arguments.</p>
<p > 
<div style="display:flex; align-items: center;">
    <div style="width:500px; height:100px; margin-right: 20px;">
        <img src="commander_logo.svg" background="transparent" style="width: 100%; height: 100%;" direction="1" ></img>
    </div>
    <div>
        <p>While itâ€™s certainly possible to handle this manually, weâ€™re happy to tell you thereâ€™s a much better solution.
        Weâ€™ve developed a command processor called the <a href="https://www.commanderapi.org/html/index.html">Commander API</a>.
        This API is a standalone project, designed to be highly optimized while remaining user-friendly.
        It took quite a bit of effort to get it to this level, but the end result is something we think youâ€™ll really appreciate.
        </p>
    </div>
</div>
</p>
<p >In the following examples, weâ€™ll show you how to connect <a class="el" href="class_shellminator.html" title="Shellminator object.">Shellminator</a> with the Commander API to take your command-line functionality to the next level. Letâ€™s get started!</p>
<p >First, we need to install the <b>Commander API</b>, just like we did with <a class="el" href="class_shellminator.html" title="Shellminator object.">Shellminator</a>. If you need extra guidance, the <a href="https://www.commanderapi.org/html/index.html">Commander API website</a> provides detailed instructions for installation.</p>
<p >Next, we include the necessary libraries:</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &quot;<a class="code" href="_shellminator_8hpp.html">Shellminator.hpp</a>&quot;</span> <span class="comment">// The familiar Shellminator library</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="_shellminator-_commander-_interface_8hpp.html">Shellminator-Commander-Interface.hpp</a>&quot;</span> <span class="comment">// The interface connecting Shellminator with Commander</span></div>
<div class="line"><span class="preprocessor">#include &quot;Commander-API.hpp&quot;</span> <span class="comment">// The core Commander API library</span></div>
<div class="ttc" id="a_shellminator-_commander-_interface_8hpp_html"><div class="ttname"><a href="_shellminator-_commander-_interface_8hpp.html">Shellminator-Commander-Interface.hpp</a></div></div>
<div class="ttc" id="a_shellminator_8hpp_html"><div class="ttname"><a href="_shellminator_8hpp.html">Shellminator.hpp</a></div></div>
</div><!-- fragment --><p >Just like <a class="el" href="class_shellminator.html" title="Shellminator object.">Shellminator</a>, the Commander API operates by deriving an object that will handle tasks for us:</p>
<div class="fragment"><div class="line"><span class="comment">// We have to create an object from the Commander class.</span></div>
<div class="line">Commander commander;</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md32"></a>
Designing the Commands</h2>
<p >Now comes the design phase. We need to decide how many commands the system will support. The great news is that the system can be expanded or reduced at any time (as long as backward compatibility is not an issue). For this example, letâ€™s define three commands: <code>cat</code>, <code>dog</code>, and <code>sum</code>.</p>
<ul>
<li><code>cat</code> and <code>dog</code> will simply print text. <br  />
</li>
<li><code>sum</code>, however, will perform a calculationâ€”it will add two numbers if valid arguments are provided.</li>
</ul>
<p >To implement these commands, we need to create callback functions. Similar to <a class="el" href="class_shellminator.html" title="Shellminator object.">Shellminator</a>, the Commander API is designed with a non-blocking architecture, so youâ€™ll use callbacks to define external hooks for each command:</p>
<div class="fragment"><div class="line"><span class="keywordtype">bool</span> cat_func( <span class="keywordtype">char</span> *args, CommandCaller* caller );</div>
<div class="line"><span class="keywordtype">bool</span> dog_func( <span class="keywordtype">char</span> *args, CommandCaller* caller );</div>
<div class="line"><span class="keywordtype">bool</span> sum_func( <span class="keywordtype">char</span> *args, CommandCaller* caller );</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md33"></a>
Callback Function Structure</h2>
<p >The structure of callback functions in Commander API is fixed: <br  />
</p><ul>
<li><b>Return Type:</b> <code>bool</code> <br  />
</li>
<li><b>Arguments:</b> <code>char *args, CommandCaller* caller</code> <br  />
</li>
</ul>
<p >Youâ€™re free to name your callback functions however you like. These callbacks will form the foundation for handling your commands efficiently.</p>
<h2><a class="anchor" id="autotoc_md34"></a>
Setting Up the Command Tree</h2>
<p >The next step is crucial for ensuring everything works properly. We need to tell our <code>Commander</code> object which commands it should recognize. The easiest way to do this is by creating a <b>command tree</b>. This "tree" is essentially an array where each element is a structure that contains:</p>
<ol type="1">
<li>The name of the command.</li>
<li>A short description of what the command does (this can greatly enhance the user experience).</li>
<li>The callback function that gets executed when someone runs the command.</li>
</ol>
<p >At first, this might sound a bit abstract, but donâ€™t worryâ€”weâ€™ve created a macro to make this process much simpler:</p>
<div class="fragment"><div class="line">Commander::systemCommand_t API_tree[] = {</div>
<div class="line">    systemCommand(<span class="stringliteral">&quot;cat&quot;</span>, <span class="stringliteral">&quot;Description for cat command.&quot;</span>, cat_func),</div>
<div class="line">    systemCommand(<span class="stringliteral">&quot;dog&quot;</span>, <span class="stringliteral">&quot;Description for dog command.&quot;</span>, dog_func),</div>
<div class="line">    systemCommand(<span class="stringliteral">&quot;sum&quot;</span>, <span class="stringliteral">&quot;This function sums two numbers from the argument list.&quot;</span>, sum_func)</div>
<div class="line">};</div>
</div><!-- fragment --><p >The command tree must always be of type <code>Commander::systemCommand_t</code>. Each element should be defined using the <code>systemCommand</code> macro in the following format:</p>
<div class="fragment"><div class="line">systemCommand(<span class="stringliteral">&quot;command name&quot;</span>, <span class="stringliteral">&quot;short description&quot;</span>, <span class="stringliteral">&quot;callback function&quot;</span>)</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md35"></a>
Connecting Shellminator to Commander</h2>
<p >Once the command tree is set up, itâ€™s time to connect it to <code><a class="el" href="class_shellminator.html" title="Shellminator object.">Shellminator</a></code>. In the previous examples, we derived a class from the <code><a class="el" href="class_shellminator.html" title="Shellminator object.">Shellminator</a></code> class to create a terminal interface. However, when using Commander, we need to start from the <code><a class="el" href="class_shellminator_commander_interface.html">ShellminatorCommanderInterface</a></code> class instead. This class is built on top of <code><a class="el" href="class_shellminator.html" title="Shellminator object.">Shellminator</a></code> and comes pre-configured to work seamlessly with Commander. The usage is almost identical, so thereâ€™s no need to worry about any steep learning curve.</p>
<p >Hereâ€™s how to create the terminal object with Commander integration:</p>
<div class="fragment"><div class="line"><span class="comment">// Create a ShellminatorCommanderInterface object and initialize it to use Serial</span></div>
<div class="line"><a class="code hl_class" href="class_shellminator_commander_interface.html">ShellminatorCommanderInterface</a> shell(&amp;Serial);</div>
<div class="ttc" id="aclass_shellminator_commander_interface_html"><div class="ttname"><a href="class_shellminator_commander_interface.html">ShellminatorCommanderInterface</a></div><div class="ttdef"><b>Definition:</b> <a href="_shellminator-_commander-_interface_8hpp_source.html#l00067">Shellminator-Commander-Interface.hpp:67</a></div></div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md36"></a>
Initializing Commander</h2>
<p >For Commander to function correctly, it must be initialized. Under the hood, Commander performs some abstract but essential tasks during this initialization phase. During this time, it temporarily uses a fair amount of stack memory to create an optimized internal structure. This structure allows Commander to efficiently process commands later on.</p>
<p >To avoid issues with memory, itâ€™s best to initialize Commander as early as possible in your program. Additionally, you can assign a debug channel for easier troubleshooting in case something doesnâ€™t work as expected. Hereâ€™s how to initialize Commander:</p>
<div class="fragment"><div class="line"><span class="comment">// Attach a debug channel for troubleshooting</span></div>
<div class="line">commander.attachDebugChannel(&amp;Serial);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Attach the command tree</span></div>
<div class="line">commander.attachTree(API_tree);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Start the initialization phase</span></div>
<div class="line">commander.init();</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Attach command parser object to the shell object.</span></div>
<div class="line">shell.attachCommander( &amp;commander );</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md37"></a>
Implementing the Callback Functions</h2>
<p >The final step to complete the setup is implementing the callback functions we declared earlier. Letâ€™s focus on the callback for the <code>sum</code> command, as itâ€™s the most complex of the three:</p>
<div class="fragment"><div class="line"> </div>
<div class="line"><span class="keywordtype">bool</span> sum_func(<span class="keywordtype">char</span> *args, CommandCaller* caller) {</div>
<div class="line">    <span class="comment">// These variables will hold the two numbers to be summed.</span></div>
<div class="line">    <span class="keywordtype">int</span> a = 0;</div>
<div class="line">    <span class="keywordtype">int</span> b = 0;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// This variable will store the result of parsing the arguments.</span></div>
<div class="line">    <span class="keywordtype">int</span> argResult;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// This variable will store the sum of the two numbers.</span></div>
<div class="line">    <span class="keywordtype">int</span> sum = 0;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Parse the arguments to extract two integers.</span></div>
<div class="line">    argResult = sscanf(args, <span class="stringliteral">&quot;%d %d&quot;</span>, &amp;a, &amp;b);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Check if the parsing was successful.</span></div>
<div class="line">    <span class="keywordflow">if</span> (argResult != 2) {</div>
<div class="line">        <span class="comment">// If parsing failed, print an error message to the response channel.</span></div>
<div class="line">        caller-&gt;print(<span class="stringliteral">&quot;Argument error! Two numbers required, separated by a blank space.\r\n&quot;</span>);</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// Stop the execution and return false.</span></div>
<div class="line">        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Calculate the sum.</span></div>
<div class="line">    sum = a + b;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Print the result.</span></div>
<div class="line">    caller-&gt;print(a);</div>
<div class="line">    caller-&gt;print(<span class="stringliteral">&quot; + &quot;</span>);</div>
<div class="line">    caller-&gt;print(b);</div>
<div class="line">    caller-&gt;print(<span class="stringliteral">&quot; = &quot;</span>);</div>
<div class="line">    caller-&gt;println(sum);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Indicate successful execution.</span></div>
<div class="line">    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line">}</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md38"></a>
Arguments and Caller</h2>
<ul>
<li><code>args</code>: This is a simple C-style string containing the arguments passed to the command (if any). For the <code>sum</code> command, it should contain two integers separated by a space.</li>
<li><code>caller</code>: This is a pointer to the Commander object that invoked this function. It acts as an interface for communicating back to the user. For example, you can print messages or errors using its <code>print</code> and <code>println</code> methods.</li>
</ul>
<h2><a class="anchor" id="autotoc_md39"></a>
What Does the sum Function Do?</h2>
<ol type="1">
<li><b>Parse Arguments:</b> <br  />
 The function uses <code>sscanf</code> to extract two integers (<code>a</code> and <code>b</code>) from the <code>args</code> string. <br  />
<ul>
<li>If the parsing fails (e.g., not enough numbers provided or invalid input), the function informs the user by printing an error message using <code>caller-&gt;print</code> and then returns <code>false</code> to indicate failure.</li>
</ul>
</li>
<li><b>Perform the Calculation:</b> <br  />
 If the arguments are valid, the function calculates the sum of the two numbers.</li>
<li><b>Output the Result:</b> <br  />
 The function uses <code>caller-&gt;print</code> and <code>caller-&gt;println</code> to display the result in the following format: <br  />
 <code>a + b = sum</code></li>
<li><b>Return the Status:</b> <br  />
 Finally, the function returns <code>true</code> to indicate successful execution.</li>
</ol>
<h2><a class="anchor" id="autotoc_md40"></a>
Important Notes</h2>
<ul>
<li><b>Use <code>caller-&gt;print()</code> and <code>caller-&gt;println()</code>:</b> When writing output in Commander callbacks, always use these methods. They ensure the output is correctly routed to the response channel.</li>
<li><b>Robust Error Handling:</b> This function gracefully handles errors, like missing or invalid arguments, by providing helpful feedback to the user.</li>
<li>Every command callback must return <code>true</code>, when the command was executed without problem. When any problem occurs, it must return with <code>false</code>.</li>
</ul>
<p > 
<div style="display:flex; align-items: center;">
    <div style="width:100px; height:100px; margin-right: 20px;">
        <lottie-player src="Light-bulb.json" background="transparent" speed="1" style="width: 100%; height: 100%;" direction="1" playMode="normal" loop autoplay></lottie-player>
    </div>
    <div>
        <p>Here are a few things you might want to try out in the demo below:
        </p>
    </div>
</div>
</p>
<ul>
<li><code>cat</code> â†’ Executes the <code>cat</code> command, and you'll see the response from the <code>cat_func</code> callback. <br  />
</li>
<li><code>Cat</code> â†’ You'll get a <code>Command "Cat" not found!</code> error because the system is <b>case-sensitive</b>. <br  />
</li>
<li><code>dog</code> â†’ Executes the <code>dog</code> command, and you'll see the response from the <code>dog_func</code> callback. <br  />
</li>
<li><code>help</code> â†’ The <code>help</code> command still works as expected. <br  />
</li>
<li><code>?</code> â†’ Does the same thing as <code>help</code>, just a shortcut. <br  />
</li>
<li><code>sum</code> â†’ Error message: _"Executes the cat command, and you'll see the response from the cat_func callback."_ <br  />
 This happens because the arguments werenâ€™t provided correctly. Letâ€™s help ourselves out and check how to use the <code>sum</code> command. <br  />
</li>
<li><code>sum?</code> â†’ Displays information on how to use the <code>sum</code> command. <br  />
</li>
<li><code>sum 10 20</code> â†’ Adds the two numbers and prints the result: <b>30</b>.</li>
</ul>
<h2><a class="anchor" id="autotoc_md41"></a>
Live Demo</h2>
<p > 
<iframe id="demoFrame" src="webExamples/200_commanderBasic.html" style="height:500px;width:100%;border:none;display:block;"></iframe>
</p>
<h2><a class="anchor" id="autotoc_md42"></a>
Whole Code</h2>
<div class="fragment"><div class="line"><span class="comment">/*</span></div>
<div class="line"><span class="comment"> * Created on Aug 10 2020</span></div>
<div class="line"><span class="comment"> *</span></div>
<div class="line"><span class="comment"> * Copyright (c) 2023 - Daniel Hajnal</span></div>
<div class="line"><span class="comment"> * hajnal.daniel96@gmail.com</span></div>
<div class="line"><span class="comment"> * This file is part of the Shellminator project.</span></div>
<div class="line"><span class="comment"> * Modified 2023.05.13</span></div>
<div class="line"><span class="comment">*/</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="_shellminator_8hpp.html">Shellminator.hpp</a>&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="_shellminator-_commander-_interface_8hpp.html">Shellminator-Commander-Interface.hpp</a>&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;Commander-API.hpp&quot;</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// We have to create an object from Commander class.</span></div>
<div class="line">Commander commander;</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">bool</span> cat_func( <span class="keywordtype">char</span> *args, CommandCaller* caller );</div>
<div class="line"><span class="keywordtype">bool</span> dog_func( <span class="keywordtype">char</span> *args, CommandCaller* caller );</div>
<div class="line"><span class="keywordtype">bool</span> sum_func( <span class="keywordtype">char</span> *args, CommandCaller* caller );</div>
<div class="line"> </div>
<div class="line">Commander::systemCommand_t API_tree[] = {</div>
<div class="line">    systemCommand( <span class="stringliteral">&quot;cat&quot;</span>, <span class="stringliteral">&quot;Description for cat command.&quot;</span>, cat_func ),</div>
<div class="line">    systemCommand( <span class="stringliteral">&quot;dog&quot;</span>, <span class="stringliteral">&quot;Description for dog command.&quot;</span>, dog_func ),</div>
<div class="line">    systemCommand( <span class="stringliteral">&quot;sum&quot;</span>, <span class="stringliteral">&quot;This function sums two number from the argument list.&quot;</span>, sum_func )</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Create a ShellminatorCommanderInterface object, and initialize it to use Serial</span></div>
<div class="line"><a class="code hl_class" href="class_shellminator_commander_interface.html">ShellminatorCommanderInterface</a> shell( &amp;Serial );</div>
<div class="line"> </div>
<div class="line"><span class="comment">// System init section.</span></div>
<div class="line"><span class="keywordtype">void</span> setup(){</div>
<div class="line"> </div>
<div class="line">    Serial.begin(115200);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Clear the terminal</span></div>
<div class="line">    shell.clear();</div>
<div class="line"> </div>
<div class="line">    commander.attachDebugChannel( &amp;Serial );</div>
<div class="line">    commander.attachTree( API_tree );</div>
<div class="line">    commander.init();</div>
<div class="line"> </div>
<div class="line">    shell.attachCommander( &amp;commander );</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Initialize shell object.</span></div>
<div class="line">    shell.begin( <span class="stringliteral">&quot;arnold&quot;</span> );</div>
<div class="line"> </div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Infinite loop.</span></div>
<div class="line"><span class="keywordtype">void</span> loop(){</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Process the new data.</span></div>
<div class="line">    shell.update();</div>
<div class="line"> </div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">bool</span> cat_func(<span class="keywordtype">char</span> *args, CommandCaller* caller ){</div>
<div class="line"> </div>
<div class="line">  caller -&gt; print(<span class="stringliteral">&quot;Hello from cat function!\r\n&quot;</span>);</div>
<div class="line">  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"> </div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">bool</span> dog_func(<span class="keywordtype">char</span> *args, CommandCaller* caller ){</div>
<div class="line"> </div>
<div class="line">  caller -&gt; print(<span class="stringliteral">&quot;Hello from dog function!\r\n&quot;</span>);</div>
<div class="line">  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"> </div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">bool</span> sum_func(<span class="keywordtype">char</span> *args, CommandCaller* caller ){</div>
<div class="line"> </div>
<div class="line">  <span class="comment">// These variables will hold the value of the</span></div>
<div class="line">  <span class="comment">// two numbers, that has to be summed.</span></div>
<div class="line">  <span class="keywordtype">int</span> a = 0;</div>
<div class="line">  <span class="keywordtype">int</span> b = 0;</div>
<div class="line"> </div>
<div class="line">  <span class="comment">// This variable will hold the result of the</span></div>
<div class="line">  <span class="comment">// argument parser.</span></div>
<div class="line">  <span class="keywordtype">int</span> argResult;</div>
<div class="line"> </div>
<div class="line">  <span class="comment">// This variable will hold the sum result.</span></div>
<div class="line">  <span class="keywordtype">int</span> sum = 0;</div>
<div class="line"> </div>
<div class="line">  argResult = sscanf( args, <span class="stringliteral">&quot;%d %d&quot;</span>, &amp;a, &amp;b );</div>
<div class="line"> </div>
<div class="line">  <span class="comment">// We have to check that we parsed successfully the two</span></div>
<div class="line">  <span class="comment">// numbers from the argument string.</span></div>
<div class="line">  <span class="keywordflow">if</span>( argResult != 2 ){</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// If we could not parse two numbers, we have an argument problem.</span></div>
<div class="line">    <span class="comment">// We print out the problem to the response channel.</span></div>
<div class="line">    caller -&gt; print( <span class="stringliteral">&quot;Argument error! Two numbers required, separated with a blank space.\r\n&quot;</span> );</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Sadly we have to stop the command execution and return.</span></div>
<div class="line">    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"> </div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line">  <span class="comment">// Calculate the sum.</span></div>
<div class="line">  sum = a + b;</div>
<div class="line"> </div>
<div class="line">  <span class="comment">// Print out the result.</span></div>
<div class="line">  caller -&gt; print( a );</div>
<div class="line">  caller -&gt; print( <span class="stringliteral">&quot; + &quot;</span> );</div>
<div class="line">  caller -&gt; print( b );</div>
<div class="line">  caller -&gt; print( <span class="stringliteral">&quot; = &quot;</span> );</div>
<div class="line">  caller -&gt; println( sum );</div>
<div class="line">    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line">}</div>
</div><!-- fragment --><div class="section_buttons"></div><div class="section_buttons"><table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadLeft">Previous   </th><th class="markdownTableHeadRight">Next    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft"><a class="el" href="102_buffering_page.html">Buffering Example</a>   </td><td class="markdownTableBodyRight"><a class="el" href="201_commander_optimizations_page.html">Commander Optimizations Example</a>   </td></tr>
</table>
</div><div class="section_buttons"></div> </div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.5 </li>
  </ul>
</div>
</body>
</html>
